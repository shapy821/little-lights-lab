<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éœ²è¥¿çš„ç”Ÿæ´»æ—¥è¨˜ | Warmtolive</title>
    <meta name="description" content="éœ²è¥¿çš„ç”Ÿæ´»æ—¥è¨˜ - åˆ†äº«ç™‚ç™’è·¯ä¸Šçš„æ„Ÿæ‚Ÿã€æ—¥å¸¸çš„å°ç¢ºå¹¸ï¼Œé‚„æœ‰èˆ‡å¤©ä½¿å€‘å…±è™•çš„æº«æš–æ™‚å…‰ã€‚">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;600&family=Noto+Serif+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'goose-yellow': '#FFFBF0',
                        'warm-cream': '#FEFDF5',
                        'soft-cream': '#FFF9E8',
                        'warm-brown': '#5D534A',
                        'deep-brown': '#4A4036',
                        'muted-gold': '#C9A96E',
                        'soft-gold': '#D4B896',
                        'pastel-pink': '#E8C4C4',
                        'blush': '#F5E1DA',
                        'lavender': '#E8E0F0',
                        'sage': '#D4E0D4',
                    },
                    fontFamily: {
                        'serif-tc': ['"Noto Serif TC"', 'serif'],
                        'sans-tc': ['"Noto Sans TC"', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 4px 30px rgba(93, 83, 74, 0.08)',
                        'card': '0 8px 40px rgba(93, 83, 74, 0.06)',
                        'hover': '0 12px 50px rgba(93, 83, 74, 0.12)',
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #FFFBF0;
        }
        ::-webkit-scrollbar-thumb {
            background: #D4B896;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #C9A96E;
        }
        
        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }
        
        /* Selection Color */
        ::selection {
            background: #E8C4C4;
            color: #4A4036;
        }
        
        /* Fade in animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .animate-delay-100 { animation-delay: 0.1s; }
        .animate-delay-200 { animation-delay: 0.2s; }
        .animate-delay-300 { animation-delay: 0.3s; }
        
        /* Zen divider */
        .zen-divider {
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #C9A96E, transparent);
        }
        
        /* Post card hover */
        .post-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .post-card:hover {
            transform: translateY(-8px);
        }
        
        /* Category colors */
        .category-æ—¥å¸¸ { background: #F5E1DA; color: #5D534A; }
        .category-å¤©ä½¿è¨Šæ¯ { background: #E8E0F0; color: #5D534A; }
        .category-ç™‚ç™’ { background: #D4E0D4; color: #5D534A; }
        .category-æ‰‹ä½œ { background: #FFF9E8; color: #5D534A; }
        .category-æ„Ÿæ‚Ÿ { background: #E8C4C4; color: #5D534A; }
        
        /* Modal styles */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(74, 64, 54, 0.5);
            backdrop-filter: blur(4px);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            background: white;
            border-radius: 24px;
            z-index: 101;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .modal-content.active {
            opacity: 1;
            pointer-events: auto;
            transform: translate(-50%, -50%) scale(1);
        }
        
        /* Floating decoration */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .float {
            animation: float 4s ease-in-out infinite;
        }
        
        /* Image styles */
        .post-image {
            width: 100%;
            border-radius: 12px;
            object-fit: cover;
        }
        
        .post-image-caption {
            text-align: center;
            font-size: 0.875rem;
            color: rgba(93, 83, 74, 0.6);
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* Cover image for cards */
        .cover-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Post heading in modal */
        .post-heading {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.25rem;
            color: #4A4036;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        /* Video styles */
        .post-video {
            width: 100%;
            border-radius: 12px;
            max-height: 400px;
        }
    </style>
</head>
<body class="bg-goose-yellow font-sans-tc text-warm-brown antialiased min-h-screen">
    
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-goose-yellow/90 backdrop-blur-md border-b border-soft-gold/20">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="../index.html" class="flex items-center gap-3 group">
                    <span class="text-2xl text-muted-gold">âœ¦</span>
                    <span class="font-serif-tc text-xl tracking-wide text-deep-brown">Warmtolive</span>
                </a>
                <div class="hidden md:flex items-center gap-8">
                    <a href="../index.html#about" class="text-sm tracking-wide hover:text-muted-gold transition-colors duration-300">é—œæ–¼éœ²è¥¿</a>
                    <a href="../index.html#services" class="text-sm tracking-wide hover:text-muted-gold transition-colors duration-300">æœå‹™é …ç›®</a>
                    <a href="../oracle/index.html" class="text-sm tracking-wide hover:text-muted-gold transition-colors duration-300">å¤§å¤©ä½¿ç¥è«­å¡</a>
                    <a href="../daily/index.html" class="text-sm tracking-wide hover:text-muted-gold transition-colors duration-300">æ¯æ—¥å¤©ä½¿ç¥ç¦</a>
                    <span class="text-sm tracking-wide text-muted-gold">ç”Ÿæ´»æ—¥è¨˜</span>
                </div>
                <!-- Mobile Menu Button -->
                <button id="mobileMenuBtn" class="md:hidden flex flex-col gap-1.5 p-2">
                    <span class="w-6 h-0.5 bg-warm-brown rounded transition-all duration-300"></span>
                    <span class="w-6 h-0.5 bg-warm-brown rounded transition-all duration-300"></span>
                </button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden mt-4 pb-4 border-t border-soft-gold/20 pt-4">
                <div class="flex flex-col gap-4">
                    <a href="../index.html#about" class="text-sm tracking-wide hover:text-muted-gold transition-colors">é—œæ–¼éœ²è¥¿</a>
                    <a href="../index.html#services" class="text-sm tracking-wide hover:text-muted-gold transition-colors">æœå‹™é …ç›®</a>
                    <a href="../oracle/index.html" class="text-sm tracking-wide hover:text-muted-gold transition-colors">å¤§å¤©ä½¿ç¥è«­å¡</a>
                    <a href="../daily/index.html" class="text-sm tracking-wide hover:text-muted-gold transition-colors">æ¯æ—¥å¤©ä½¿ç¥ç¦</a>
                    <span class="text-sm tracking-wide text-muted-gold">ç”Ÿæ´»æ—¥è¨˜</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-32 pb-16 relative overflow-hidden">
        <!-- Floating decorations -->
        <div class="absolute top-24 left-10 text-3xl text-muted-gold/20 float">âœ¦</div>
        <div class="absolute top-32 right-16 text-2xl text-pastel-pink/30 float" style="animation-delay: -2s;">ğŸŒ¸</div>
        
        <div class="max-w-4xl mx-auto px-6 text-center">
            <div class="mb-6 opacity-0 animate-fade-in-up">
                <span class="inline-block text-muted-gold text-4xl">ğŸ“</span>
            </div>
            
            <h1 class="font-serif-tc text-4xl md:text-5xl text-deep-brown mb-4 tracking-wider opacity-0 animate-fade-in-up animate-delay-100">
                éœ²è¥¿çš„ç”Ÿæ´»æ—¥è¨˜
            </h1>
            
            <p class="text-lg text-warm-brown/70 font-light tracking-wide mb-6 opacity-0 animate-fade-in-up animate-delay-200">
                ç™‚ç™’è·¯ä¸Šçš„æº«æŸ”ç´€éŒ„
            </p>
            
            <div class="zen-divider mx-auto opacity-0 animate-fade-in-up animate-delay-300"></div>
        </div>
    </header>

    <!-- Posts Grid -->
    <section class="py-12 md:py-16">
        <div class="max-w-5xl mx-auto px-6">
            <!-- Category Filter -->
            <div class="flex justify-center mb-12 overflow-x-auto pb-2 -mx-6 px-6 md:mx-0 md:px-0">
                <div class="flex gap-2 md:gap-3">
                    <button class="filter-btn active px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm transition-all duration-300 bg-muted-gold text-white whitespace-nowrap" data-category="all">
                        å…¨éƒ¨
                    </button>
                    <button class="filter-btn px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm transition-all duration-300 bg-white text-warm-brown hover:bg-soft-gold/20 whitespace-nowrap" data-category="æ—¥å¸¸">
                        æ—¥å¸¸
                    </button>
                    <button class="filter-btn px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm transition-all duration-300 bg-white text-warm-brown hover:bg-soft-gold/20 whitespace-nowrap" data-category="å¤©ä½¿è¨Šæ¯">
                        å¤©ä½¿è¨Šæ¯
                    </button>
                    <button class="filter-btn px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm transition-all duration-300 bg-white text-warm-brown hover:bg-soft-gold/20 whitespace-nowrap" data-category="ç™‚ç™’">
                        ç™‚ç™’
                    </button>
                    <button class="filter-btn px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm transition-all duration-300 bg-white text-warm-brown hover:bg-soft-gold/20 whitespace-nowrap" data-category="æ„Ÿæ‚Ÿ">
                        æ„Ÿæ‚Ÿ
                    </button>
                </div>
            </div>
            
            <!-- Posts Container -->
            <div id="postsContainer" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center">
                <!-- Posts will be loaded here by JavaScript -->
            </div>
            
            <!-- Empty State -->
            <div id="emptyState" class="hidden text-center py-16">
                <span class="text-4xl mb-4 block">ğŸŒ¿</span>
                <p class="text-warm-brown/60">é€™å€‹åˆ†é¡é‚„æ²’æœ‰æ–‡ç« å–”</p>
            </div>
        </div>
    </section>

    <!-- Modal for Post Detail -->
    <div id="modalOverlay" class="modal-overlay"></div>
    <div id="modalContent" class="modal-content">
        <div class="p-8 md:p-10">
            <button id="closeModal" class="absolute top-4 right-4 w-10 h-10 rounded-full bg-soft-cream flex items-center justify-center text-warm-brown hover:bg-pastel-pink/30 transition-colors">
                <i class="fas fa-times"></i>
            </button>
            
            <div id="modalBody">
                <!-- Content loaded by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-12 border-t border-soft-gold/20 mt-12">
        <div class="max-w-6xl mx-auto px-6">
            <div class="text-center">
                <div class="flex items-center justify-center gap-3 mb-4">
                    <span class="text-muted-gold">âœ¦</span>
                    <span class="font-serif-tc text-xl text-deep-brown">Warmtolive</span>
                    <span class="text-muted-gold">âœ¦</span>
                </div>
                <p class="text-warm-brown/60 text-sm mb-6">ç™‚ç™’é …ç›® Â· å¤©ä½¿éˆæ°£ Â· å¡”ç¾…å åœ Â· ç”Ÿæ´»æ—¥è¨˜</p>
                <div class="zen-divider mx-auto mb-6"></div>
                <p class="text-warm-brown/40 text-xs mb-2">Â© 2024 Warmtolive. All rights reserved.</p>
                <p class="text-warm-brown/50 text-sm">é¡˜æº«æŸ”çš„ç™‚ç™’ï¼Œèˆ‡ä½ åŒåœ¨ âœ¨</p>
            </div>
        </div>
    </footer>

    <script>
        // ========================================
        // éƒ¨è½æ ¼åŠŸèƒ½
        // ========================================
        
        // æ–‡ç« è³‡æ–™ï¼ˆç›´æ¥åµŒå…¥ï¼Œé¿å…æœ¬åœ°é–‹å•Ÿæ™‚çš„ CORS å•é¡Œï¼‰
        // ç·¨è¼¯æ–‡ç« è«‹ä¿®æ”¹é€™è£¡çš„å…§å®¹
        let posts = [
            {
                "id": "1",
                "title": "å°¼æ³Šçˆ¾èº«å¿ƒéˆä¹‹æ—…ï½œåœ¨å–œé¦¬æ‹‰é›…å±±è…³ä¸‹é‡è¦‹è‡ªå·±",
                "date": "2024-12-13",
                "category": "ç™‚ç™’",
                "coverEmoji": "ğŸ”ï¸",
                "coverImage": "../nepal/postcard.jpg",
                "excerpt": "é€™æ˜¯ä¸€è¶Ÿæ·±å…¥éˆé­‚çš„æ—…ç¨‹ã€‚åœ¨å°¼æ³Šçˆ¾çš„æ—¥å­è£¡ï¼Œæˆ‘é«”é©—äº†é˜¿è‚²å é™€ã€å†¥æƒ³ï¼Œé‚„åœ¨å–œé¦¬æ‹‰é›…å±±çœ‹äº†æ­¤ç”Ÿæœ€é›£å¿˜çš„æ—¥å‡ºã€‚",
                "content": [
                    { "type": "text", "value": "åäºŒæœˆï¼Œæˆ‘è¸ä¸Šäº†ä¸€è¶ŸæœŸå¾…å·²ä¹…çš„æ—…ç¨‹â€”â€”é£›å¾€å°¼æ³Šçˆ¾ ğŸ‡³ğŸ‡µ" },
                    { "type": "text", "value": "é€™ä¸æ˜¯ä¸€èˆ¬çš„è§€å…‰æ—…è¡Œï¼Œè€Œæ˜¯ä¸€è¶Ÿèº«å¿ƒéˆçš„æ·±åº¦æ¢ç´¢ã€‚åœ¨å‡ºç™¼å‰ï¼Œæˆ‘å°±çŸ¥é“é€™è¶Ÿæ—…ç¨‹æœƒå¸¶çµ¦æˆ‘ä¸€äº›æ”¹è®Šï¼Œä½†æ²’æƒ³åˆ°æ”¶ç©«é æ¯”é æœŸçš„æ›´å¤šã€‚" },
                    { "type": "image", "src": "../nepal/postcard.jpg", "caption": "å°¼æ³Šçˆ¾çš„ç¾éº—é¢¨æ™¯" },
                    { "type": "heading", "value": "ğŸ›ï¸ æ¼«æ­¥å°¼æ³Šçˆ¾è¡—é ­" },
                    { "type": "text", "value": "èµ°åœ¨å°¼æ³Šçˆ¾çš„è¡—é“ä¸Šï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯é©šå–œã€‚å¤è€çš„å»ºç¯‰ã€ç¹½ç´›çš„è‰²å½©ã€é‚„æœ‰é‚£äº›ç†±æƒ…çš„ç•¶åœ°äººï¼Œè®“æˆ‘æ„Ÿå—åˆ°é€™å€‹åœ‹åº¦ç¨ç‰¹çš„é­…åŠ›ã€‚" },
                    { "type": "image", "src": "../nepal/street1.jpg", "caption": "å°¼æ³Šçˆ¾è¡—æ™¯" },
                    { "type": "image", "src": "../nepal/street2.jpg", "caption": "è¡—é“ä¸Šçš„æ—¥å¸¸" },
                    { "type": "heading", "value": "ğŸ›• å¯ºå»Ÿèˆ‡å†¥æƒ³" },
                    { "type": "text", "value": "å°¼æ³Šçˆ¾æœ‰è¨±å¤šå¤è€çš„å¯ºå»Ÿï¼Œæ¯ä¸€åº§éƒ½æ•£ç™¼è‘—ç¥è–çš„æ°£æ¯ã€‚åœ¨é€™è£¡å†¥æƒ³ï¼Œé é›¢åŸå¸‚çš„å–§å›‚ï¼Œé€£å‘¼å¸éƒ½è®Šå¾—æ ¼å¤–æ¸…æ¾ˆã€‚" },
                    { "type": "image", "src": "../nepal/temple.jpg", "caption": "ç¥è–çš„å¯ºå»Ÿ" },
                    { "type": "text", "value": "æœ‰ä¸€æ¬¡å†¥æƒ³ä¸­ï¼Œæˆ‘å½·å½¿æ„Ÿå—åˆ°èˆ‡å¤§åœ°ã€èˆ‡å¤©ç©ºã€èˆ‡æ•´å€‹å®‡å®™çš„é€£çµã€‚é‚£ä¸€åˆ»ï¼Œæ‰€æœ‰çš„ç…©æƒ±éƒ½æ¶ˆèäº†ï¼Œåªå‰©ä¸‹ç´”ç²¹çš„å¹³éœã€‚" },
                    { "type": "heading", "value": "ğŸ™ æ¥å—ç¥ç¦" },
                    { "type": "text", "value": "åœ¨é€™è¶Ÿæ—…ç¨‹ä¸­ï¼Œæˆ‘æœ‰å¹¸æ¥å—äº†ç•¶åœ°çš„ç¥ç¦å„€å¼ã€‚é‚£ç¨®è¢«ç¥è–èƒ½é‡åŒ…åœçš„æ„Ÿè¦ºï¼ŒçœŸçš„å¾ˆé›£ç”¨è¨€èªå½¢å®¹ã€‚" },
                    { "type": "image", "src": "../nepal/nepal-bless-me.jpg", "caption": "æ¥å—ç¥ç¦çš„ç¥è–æ™‚åˆ»" },
                    { "type": "heading", "value": "ğŸŒ„ å–œé¦¬æ‹‰é›…å±±æ—¥å‡º" },
                    { "type": "text", "value": "é€™è¶Ÿæ—…ç¨‹æœ€éœ‡æ’¼çš„æ™‚åˆ»ï¼Œæ˜¯åœ¨å–œé¦¬æ‹‰é›…å±±çœ‹æ—¥å‡ºã€‚" },
                    { "type": "text", "value": "å‡Œæ™¨å››é»èµ·åºŠï¼Œåœ¨å¯’å†·ä¸­ç­‰å¾…ã€‚ç•¶ç¬¬ä¸€é“é‡‘å…‰ç‘è½åœ¨é›ªå±±ä¹‹å·”ï¼Œæ•´åº§å±±è„ˆè¢«æŸ“æˆç«ç‘°é‡‘è‰²çš„é‚£ä¸€åˆ»â€”â€”æˆ‘æµæ·šäº†ã€‚" },
                    { "type": "text", "value": "é‚£æ˜¯ä¸€ç¨®ç„¡æ³•è¨€å–»çš„æ„Ÿå‹•ã€‚åœ¨å¤§è‡ªç„¶çš„å£¯éº—é¢å‰ï¼Œæˆ‘æ„Ÿå—åˆ°è‡ªå·±çš„æ¸ºå°ï¼ŒåŒæ™‚ä¹Ÿæ„Ÿå—åˆ°èˆ‡è¬ç‰©åˆä¸€çš„ç¥è–ã€‚" },
                    { "type": "video", "src": "../nepal/sunrise.mp4", "caption": "å–œé¦¬æ‹‰é›…å±±çš„æ—¥å‡º âœ¨" },
                    { "type": "heading", "value": "ğŸ è·¯ä¸Šçš„å°å¤¥ä¼´å€‘" },
                    { "type": "text", "value": "å°¼æ³Šçˆ¾çš„è¡—é“ä¸Šç¸½æ˜¯å……æ»¿ç”Ÿå‘½åŠ›ï¼Œéš¨è™•å¯è¦‹å¯æ„›çš„å‹•ç‰©å€‘è‡ªåœ¨åœ°ç”Ÿæ´»è‘—ã€‚" },
                    { "type": "image", "src": "../nepal/goat.jpg", "caption": "è·¯ä¸Šé‡è¦‹çš„å±±ç¾Š" },
                    { "type": "image", "src": "../nepal/life_dog.jpg", "caption": "æ‚ é–’çš„ç‹—ç‹—" },
                    { "type": "image", "src": "../nepal/life_monkey.jpg", "caption": "èª¿çš®çš„çŒ´å­" },
                    { "type": "heading", "value": "âœ¨ æ—…ç¨‹çš„æ„Ÿæ‚Ÿ" },
                    { "type": "text", "value": "é€™è¶Ÿå°¼æ³Šçˆ¾ä¹‹æ—…ï¼Œè®“æˆ‘æ›´æ·±åˆ»åœ°ç†è§£äº†ã€Œç™‚ç™’ã€çš„æ„ç¾©ã€‚" },
                    { "type": "text", "value": "ç™‚ç™’ä¸åªæ˜¯è™•ç†å‚·ç—›ï¼Œæ›´æ˜¯å›æ­¸è‡ªå·±ã€èˆ‡è‡ªå·±å’Œè§£ã€é‡æ–°æ‰¾å›å…§åœ¨çš„å¹³éœèˆ‡åŠ›é‡ã€‚" },
                    { "type": "text", "value": "æ„Ÿè¬é€™è¶Ÿæ—…ç¨‹å¸¶çµ¦æˆ‘çš„ä¸€åˆ‡ã€‚å¸¶è‘—é€™ä»½èƒ½é‡ï¼Œæˆ‘æœƒç¹¼çºŒåœ¨ç™‚ç™’çš„é“è·¯ä¸Šå‰è¡Œï¼Œä¹Ÿå¸Œæœ›èƒ½æŠŠé€™ä»½æº«æš–å‚³éçµ¦æ›´å¤šäºº ğŸ’«" },
                    { "type": "image", "src": "../nepal/street7.jpg", "caption": "å¸¶è‘—æ»¿æ»¿çš„èƒ½é‡å›å®¶" }
                ],
                "tags": ["å°¼æ³Šçˆ¾", "èº«å¿ƒéˆ", "é˜¿è‚²å é™€", "å†¥æƒ³", "å–œé¦¬æ‹‰é›…å±±", "æ—…è¡Œ"]
            }
        ];
        
        let currentFilter = 'all';
        
        // æ¸²æŸ“æ–‡ç« åˆ—è¡¨
        function renderPosts(postsToRender) {
            const container = document.getElementById('postsContainer');
            const emptyState = document.getElementById('emptyState');
            
            if (postsToRender.length === 0) {
                container.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }
            
            emptyState.classList.add('hidden');
            
            // æ ¹æ“šæ–‡ç« æ•¸é‡èª¿æ•´æ’ç‰ˆ
            if (postsToRender.length === 1) {
                container.className = 'flex justify-center';
            } else if (postsToRender.length === 2) {
                container.className = 'grid md:grid-cols-2 gap-8 max-w-3xl mx-auto';
            } else {
                container.className = 'grid md:grid-cols-2 lg:grid-cols-3 gap-8';
            }
            
            container.innerHTML = postsToRender.map((post, index) => `
                <article class="post-card bg-white rounded-3xl shadow-card overflow-hidden cursor-pointer w-full max-w-sm" 
                         onclick="openPost('${post.id}')"
                         style="animation: fadeInUp 0.6s ease-out ${index * 0.1}s forwards; opacity: 0;">
                    <!-- Cover -->
                    <div class="h-48 bg-gradient-to-br from-soft-cream to-blush flex items-center justify-center relative overflow-hidden">
                        ${post.coverImage 
                            ? `<img src="${post.coverImage}" alt="${post.title}" class="cover-image">`
                            : `<span class="text-6xl">${post.coverEmoji}</span>`
                        }
                        <span class="absolute top-4 right-4 px-3 py-1 rounded-full text-xs category-${post.category}">
                            ${post.category}
                        </span>
                    </div>
                    
                    <!-- Content -->
                    <div class="p-6">
                        <p class="text-xs text-warm-brown/50 mb-2">
                            <i class="far fa-calendar mr-1"></i>
                            ${formatDate(post.date)}
                        </p>
                        <h3 class="font-serif-tc text-lg text-deep-brown mb-3 line-clamp-2">
                            ${post.title}
                        </h3>
                        <p class="text-sm text-warm-brown/70 line-clamp-3 mb-4">
                            ${post.excerpt}
                        </p>
                        <div class="flex items-center text-muted-gold text-sm">
                            <span>é–±è®€æ›´å¤š</span>
                            <i class="fas fa-arrow-right ml-2 text-xs"></i>
                        </div>
                    </div>
                </article>
            `).join('');
        }
        
        // æ ¼å¼åŒ–æ—¥æœŸ
        function formatDate(dateString) {
            const date = new Date(dateString);
            return `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
        }
        
        // æ¸²æŸ“å…§å®¹ï¼ˆæ”¯æ´æ–°èˆŠæ ¼å¼ï¼‰
        function renderContent(content) {
            if (!content || content.length === 0) return '';
            
            // æª¢æŸ¥æ˜¯å¦æ˜¯æ–°æ ¼å¼ï¼ˆç‰©ä»¶é™£åˆ—ï¼‰é‚„æ˜¯èˆŠæ ¼å¼ï¼ˆå­—ä¸²é™£åˆ—ï¼‰
            if (typeof content[0] === 'string') {
                // èˆŠæ ¼å¼ï¼šç´”æ–‡å­—é™£åˆ—
                return content.map(paragraph => `<p>${paragraph}</p>`).join('');
            }
            
            // æ–°æ ¼å¼ï¼šç‰©ä»¶é™£åˆ—
            return content.map(item => {
                switch (item.type) {
                    case 'text':
                        return `<p>${item.value}</p>`;
                    case 'heading':
                        return `<h3 class="post-heading">${item.value}</h3>`;
                    case 'image':
                        return `
                            <div class="my-6">
                                <img src="${item.src}" alt="${item.caption || ''}" class="post-image">
                                ${item.caption ? `<p class="post-image-caption">${item.caption}</p>` : ''}
                            </div>
                        `;
                    case 'video':
                        return `
                            <div class="my-6">
                                <video src="${item.src}" class="post-video" controls playsinline>
                                    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾
                                </video>
                                ${item.caption ? `<p class="post-image-caption">${item.caption}</p>` : ''}
                            </div>
                        `;
                    default:
                        return `<p>${item.value || ''}</p>`;
                }
            }).join('');
        }
        
        // é–‹å•Ÿæ–‡ç« è©³æƒ…
        function openPost(postId) {
            const post = posts.find(p => p.id === postId);
            if (!post) return;
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div class="text-center mb-8">
                    ${post.coverImage 
                        ? `<img src="${post.coverImage}" alt="${post.title}" class="post-image mb-4" style="max-height: 200px; width: auto; margin: 0 auto;">`
                        : `<span class="text-5xl mb-4 block">${post.coverEmoji}</span>`
                    }
                    <span class="inline-block px-3 py-1 rounded-full text-xs category-${post.category} mb-4">
                        ${post.category}
                    </span>
                    <h2 class="font-serif-tc text-2xl md:text-3xl text-deep-brown mb-2">
                        ${post.title}
                    </h2>
                    <p class="text-sm text-warm-brown/50">
                        <i class="far fa-calendar mr-1"></i>
                        ${formatDate(post.date)}
                    </p>
                </div>
                
                <div class="zen-divider mx-auto mb-8"></div>
                
                <div class="space-y-4 text-warm-brown/80 leading-relaxed">
                    ${renderContent(post.content)}
                </div>
                
                ${post.tags ? `
                    <div class="mt-8 pt-6 border-t border-soft-gold/20">
                        <div class="flex flex-wrap gap-2">
                            ${post.tags.map(tag => `
                                <span class="px-3 py-1 bg-soft-cream rounded-full text-xs text-warm-brown/70">
                                    #${tag}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
            `;
            
            document.getElementById('modalOverlay').classList.add('active');
            document.getElementById('modalContent').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        // é—œé–‰ Modal
        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
            document.getElementById('modalContent').classList.remove('active');
            document.body.style.overflow = '';
        }
        
        // ç¯©é¸æ–‡ç« 
        function filterPosts(category) {
            currentFilter = category;
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.add('bg-muted-gold', 'text-white');
                    btn.classList.remove('bg-white', 'text-warm-brown');
                } else {
                    btn.classList.remove('bg-muted-gold', 'text-white');
                    btn.classList.add('bg-white', 'text-warm-brown');
                }
            });
            
            // ç¯©é¸ä¸¦æ¸²æŸ“
            const filtered = category === 'all' 
                ? posts 
                : posts.filter(post => post.category === category);
            renderPosts(filtered);
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // ç›´æ¥æ¸²æŸ“æ–‡ç« ï¼ˆè³‡æ–™å·²åµŒå…¥ï¼‰
            renderPosts(posts);
            
            // ç¯©é¸æŒ‰éˆ•äº‹ä»¶
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => filterPosts(btn.dataset.category));
            });
            
            // Modal é—œé–‰äº‹ä»¶
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('modalOverlay').addEventListener('click', closeModal);
            
            // ESC é—œé–‰ Modal
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeModal();
            });
            
            // æ‰‹æ©Ÿé¸å–®
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        });
    </script>
</body>
</html>

